# 채널 그룹 가이드 (FMOD)

## 개요
오디오 소스마다 Channel Group을 지정해 BGM/SFX/AMB/UI 볼륨을 개별 제어할 수 있도록 확장함.
그룹 이름은 문자열이며, 매니페스트의 `Group` 컬럼 값을 그대로 사용한다.

## 그룹 생성 위치
`AudioSystem::GetOrCreateChannelGroup(name)`가 호출될 때 이름 기준으로 동적 생성됨.

- 코드: `Project/Externals/AudioModule_FMOD/src/AudioSystem.cpp`
- 내부 저장: `m_ChannelGroups` 맵에 name -> FMOD::ChannelGroup*
- 생성 시 마스터 그룹에 연결됨

## AudioSourceComponent 연동
`AudioSourceComponent`에 `ChannelGroup` 프로퍼티 추가.

- 코드: `Project/Engine/Components/AudioSourceComponent.cpp`
- `ClipId`를 설정하면 매니페스트의 `Group` 값(BGM/SFX/AMB/UI 등)을 자동으로 적용
- 수동 지정 시 `ChannelGroup` 프로퍼티 값을 우선 사용

### 씬 JSON 예시
```json
"AudioSourceComponent": {
  "properties": {
    "ClipId": "BGM_Main",
    "ChannelGroup": "BGM",
    "Volume": 1.0,
    "Loop": true
  },
  "type": "AudioSourceComponent"
}
```

## 오디오 매니페스트 연동
`AudioManifest.csv`의 `Group` 컬럼을 그대로 Channel Group 이름으로 사용.

예시:
```
BGM_Main,..\\Assets\\Audio\\BGM\\bgm_main.mp3,BGM,2D,0.4,1
AMB_Wind,..\\Assets\\Audio\\AMB\\s_Wind.wav,AMB,2D,0.4,1
SFX_OneShot,..\\Assets\\Audio\\SFX\\sfx_one_shot.wav,SFX,3D,1.0,0
```

## 볼륨 API
`AudioSystem`에 그룹별 볼륨 제어 API 추가됨.

- `SetChannelGroupVolume(name, volume)`
- `GetChannelGroupVolume(name)`
  - 그룹이 없으면 MasterVolume 반환

예시:
```
auto& audio = AudioManager::Instance().GetSystem();
audio.SetChannelGroupVolume("BGM", 0.3f);
audio.SetChannelGroupVolume("SFX", 1.0f);
float amb = audio.GetChannelGroupVolume("AMB");
```

## 주의 사항
- 그룹 이름은 대소문자 구분됨 (매니페스트 값과 동일하게 사용)
- 그룹이 아직 생성되지 않아도 `SetChannelGroupVolume` 호출 시 자동 생성됨
- `ChannelGroup` 미지정 시 매니페스트 `Group` 자동 적용
